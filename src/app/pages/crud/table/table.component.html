<div class="table-responsive">
  <table class="table bg-light text-center">
    <thead>
      <tr *ngIf="this.type" [ngClass]="{'bg-danger': type === 'expense', 'bg-success': type === 'income'}">
        <th scope="col" class="con text-left">Concepto</th>
        <th scope="col" class="a">Monto</th>
        <th scope="col" class="d">Fecha</th>
        <th scope="col" class="cat"><select class="form-select" #select (change)="filterBy(select.value)">
          <option>Categoria</option>
          <option *ngFor="let item of class" [value]="item"> {{item}} </option>
        </select></th>
        <th scope="col" class="t">Tipo</th>
        <th scope="col" class="b">Botones</th>
      </tr>
    </thead>
    <tbody *ngFor="let item of budget">
      <tr *ngIf="selected._id !== item._id">
        <td class="text-left"> {{item.concept}} </td>
        <td> $ {{item.amount | number  }} </td>
        <td> {{item.date}} </td>
        <td> {{item.class}} </td>
        <td *ngIf="item.type === 'income'"> Ingreso </td>
        <td *ngIf="item.type === 'expense'"> Egreso </td>
        <td>
          <button class="btn btn-primary" (click)="updateSelected(item, item._id)" ><i class="bi bi-pencil"></i>  Modificar</button>
          <button class="btn btn-danger"  (click)="deleteOperation(item._id)"><i class="bi bi-x-circle-fill"></i>  Eliminar</button>
        </td>
      </tr>
      <tr *ngIf="selected._id === item._id" [formGroup]="form">
        <td>
          <input type="text"
           class="form-control"
           formControlName="concept"
            placeholder="Concepto" required>
        </td>
        <td>
          <input type="number"
           class="form-control"
           formControlName="amount"
            placeholder="Monto" required>
        </td>
        <td>
          <input type="date"
           class="form-control"
            min="2020-01-01"
            formControlName="date"
            max="2100-01-01" required>
        </td>
        <td>
          <input type="text"
           class="form-control"
           formControlName="class"
            placeholder="Categoria" required>
        </td>
        <td *ngIf="item.type === 'income'"> Ingreso </td>
        <td *ngIf="item.type === 'expense'"> Egreso </td>
        <td>
          <button class="btn btn-success" type="submit" (click)="saveForm()"><i class="bi bi-check-circle">  Guardar</i></button>
          <button class="btn btn-danger" type="button" (click)="stopUpdate()" ><i class="bi bi-x-circle-fill">  Salir</i></button>
        </td>
      </tr>

    </tbody>
  </table>
</div>
